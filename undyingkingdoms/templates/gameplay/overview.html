{% extends "gameplay/layout.html" %}
{% block content2 %}

{% set user = current_user %}
{% set county = current_user.county %}
<h1 style="text-align:center;">{{ county.name }}</h1>
<ul>
    <li>Leader: {{ county.leader }} ({{ county.gender }})</li>
    <li>Race: {{ county.race }}</li>
    <li>Title: {{ county.title }}</li>
    <li>Land: {{ county.land }} acres</li>
    <li>Calendar: Day {{ county.kingdom.world.day }} (This round of testing will end on day 168)</li>
    <li>Stored Grain: {{ county.grain_stores }} <img class="resource_icons" src="/static/images/grain_icon.jpg"></li>
    <li>Coffers: {{ county.gold }} <img class="resource_icons" src="/static/images/gold_icon.jpg"></li>
    <li>Population: {{ county.population }} <img class="resource_icons" src="/static/images/population_icon.jpg"></li>
    <li>Happiness: {{ county.happiness_terminology.title() }}</li>
    <li>Hunger: {{ county.hunger_terminology.title() }}</li>
    <li>Weather: {{ county.weather.title() }}</li>
</ul>
<br>
<h2>News</h2>
<ul>
    {% for event in county.display_news()|sort(attribute='day', reverse=True) %}
    <li>{{ event.title }} (Day: {{ event.day }}): {{ event.content }}</li>
    {% else %}
    <li>No new events to report.</li>
    {% endfor %}
</ul>
<span id="oldNews" display="none">
    <button onclick="oldNewsDisplay()">Display</button>
<h2>Old News</h2>
<ul>
    {% for event in county.display_old_news()|sort(attribute='day', reverse=True) %}
    <li>{{ event.title }} (Day: {{ event.day }}): {{ event.content }}</li>
    {% else %}
    <li>There is no news in your history.</li>
    {% endfor %}
</ul>
</span>

<script type="text/javascript">
function oldNewsDisplay() {
  var x = document.getElementById("oldNews");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display === "none"
  }
}
</script>

{% endblock %}