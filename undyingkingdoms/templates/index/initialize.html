{% extends "layout.html" %}

{% title block %}Initialize: {{ super() }}{% endblock %}

{% block content1 %}
{% if current_user.ages_completed != 0 %}
(Welcome back! A new age has started. Please establish your county to begin.)
{% else %}
(Welcome to the game! To start, please establish your county)
{% endif %}
<br>
<h1>The king is dead! The kingdom has fallen into civil war. Now is your chance to prove to the kingdom that you should
    be the rightful leader.
    Manage your county and strategically secure your position as leader of your Kingdom. And once you have taken
    control,
    lead your kingdom in war to become the greatest that the world has ever seen by destroying your neighbours.</h1>


<form method="POST" accept-charset="UTF-8" role="form">
    <!-- LoginForm -->
    {{ form.csrf_token }}
    {{ render_field(form.county, placeholder="Your county's name", autofocus="") }}
    {{ render_field(form.leader, placeholder="Your leader's name") }}
    {{ render_field(form.gender, placeholder="Your leader's gender") }}
    {{ render_field(form.race, placeholder="Your leader's race") }}
    {{ render_field(form.background, placeholder="Your leader's class") }}
    <br><br>
    <button type="submit">Establish county</button>
</form>
<div id="dwarfDiv" style="display:none;">
    <h1>Dwarves:</h1>
<h2>Strengths:</h2>
    <p>Engineering: +10% Production</p>
<h2>Weaknesses:</h2>
    <p>Unending Appetite: Dwarves consume 15% more food each day</p>
<h3>Military:</h3>
<ul>
    {% for army in dwarf_armies.values() %}
    <li>Name: {{ army.class_name }}</li>
    <li>Cost: {{ army.gold }} gold, {{ army.wood }} wood, {{ army.iron }} iron</li>
    <li>Attack: {{ army.attack }}</li>
    <li>Defense: {{ army.defence }}</li>
    <li>Health: {{ army.health }}</li>
    {% endfor %}
</ul>
</div>

<div id="humanDiv" style="display:none;">
<h1>Humans:</h1>
<h2>Strengths:</h2>
    <p>None</p>
<h2>Weaknesses:</h2>
    <p>None</p>
<h3>Military:</h3>
<ul>
    {% for army in human_armies.values() %}
    <li>Name: {{ army.class_name }}</li>
    <li>Cost: {{ army.gold }} gold, {{ army.wood }} wood, {{ army.iron }} iron</li>
    <li>Attack: {{ army.attack }}</li>
    <li>Defense: {{ army.defence }}</li>
    <li>Health: {{ army.health }}</li>
    {% endfor %}
</ul>
</div>

<div id="elfDiv" style="display:none;">
<h1>Elves:</h1>
<h2>Strengths:</h2>
    <p>Civic Duty: Civilians add double defense to county</p>
<h2>Weaknesses:</h2>
    <p>Elders: -10% Population growth</p>
<h3>Military:</h3>
<ul>
    {% for army in elf_armies.values() %}
    <li>Name: {{ army.class_name }}</li>
    <li>Cost: {{ army.gold }} gold, {{ army.wood }} wood, {{ army.iron }} iron</li>
    <li>Attack: {{ army.attack }}</li>
    <li>Defense: {{ army.defence }}</li>
    <li>Health: {{ army.health }}</li>
    {% endfor %}
</ul>
</div>

<div id="merchantDiv" style="display:none;">
<h1>Merchant:</h1>
<h2>Bonus:</h2>
    <p>+10% gold from all income sources</p>
</div>

<div id="warlordDiv" style="display:none;">
<h1>Warlord:</h1>
<h2>Bonus:</h2>
    <p>+10% offensive military strength</p>
</div>

<div id="rogueDiv" style="display:none;">
<h1>Rogue:</h1>
<h2>Bonus:</h2>
    <p>+10% success rate on all infiltrations</p>
</div>

<div id="engineerDiv" style="display:none;">
<h1>Engineer:</h1>
<h2>Bonus:</h2>
    <p>+20% production from each worker</p>
</div>

<script type="text/javascript">
document.getElementById("race").onchange = function () {
    var chosenRace = document.getElementById("race");
    var dwarfDiv = document.getElementById("dwarfDiv");
    var humanDiv = document.getElementById("humanDiv");
    var elfDiv = document.getElementById("elfDiv");
    dwarfDiv.style.display = "none";
    humanDiv.style.display = "none";
    elfDiv.style.display = "none";
    if (chosenRace.value === "1") {
        dwarfDiv.style.display = "block";
    } else if (chosenRace.value === "2") {
        humanDiv.style.display = "block";
    } else if (chosenRace.value === "3") {
        elfDiv.style.display = "block";
    }
};

document.getElementById("title").onchange = function () {
    var chosenTitle = document.getElementById("title");
    var merchantDiv = document.getElementById("merchantDiv");
    var warlordDiv = document.getElementById("warlordDiv");
    var rogueDiv = document.getElementById("rogueDiv");
    var engineerDiv = document.getElementById("engineerDiv");
    merchantDiv.style.display = "none";
    warlordDiv.style.display = "none";
    rogueDiv.style.display = "none";
    engineerDiv.style.display = "none";
    if (chosenTitle.value === "3") {
        merchantDiv.style.display = "block";
    } else if (chosenTitle.value === "1") {
        warlordDiv.style.display = "block";
    } else if (chosenTitle.value === "4") {
        rogueDiv.style.display = "block";
    } else if (chosenTitle.value === "2") {
        engineerDiv.style.display = "block";
    }
};

</script>


{% endblock %}
